<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">

    <title>Trans-RNN</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=IBM+Plex+Serif:300,400,400i,600,600i,700,700i,800"
        rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,400i,700,700i" rel="stylesheet">

    <!-- Link the main.css stylesheet -->
    <link href="styles/reset.css" rel="stylesheet">
    <link href="styles/-debug.css" rel="stylesheet">
    <link href="styles/article.css" rel="stylesheet">
    <link href="styles/article-text.css" rel="stylesheet">
    <link href="styles/article-figure.css" rel="stylesheet">
    <link href="styles/nav.css" rel="stylesheet">
    <link href="styles/code-block.css" rel="stylesheet">

    <link href="styles/footer-blog.css" rel="stylesheet">
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML'
        async></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.0.2/echarts.min.js"></script>


</head>

<body>
    <nav>
        <a class="nav-home" href="../index.html">HOME</a>
        <a class="nav-project" href="../projects.html">PROJECTS</a>
        <a class="nav-blog" href="../musings.html">BLOG</a>
        <a class="nav-resume" href="../files/yashbonde_resume.pdf">RESUME</a>
    </nav>

    <article id="blog-0">

        <h1>Notes and Results of RNN-Sim</h1>
        <h2>How fast can we run Language Models on CPUs</h2>
        <time datetime="23-04-2021">APRIL 23, 2021</time>
        
        <p>
            Find more information on this <a href="https://github.com/yashbonde/RNN-sim" class="article-a">GitHub</a>. All
            these experiments have been performed on MacBook Pro (2020) (i5/16GB).
        </p>

        <h3>Time Taken by different methods (Smaller is Better)</h3>

        <div style="text-align:center">
            <button id="log-button" onclick="getChart()" style="
                width: 200px;
                background: #42aaff;
                border-radius: 10px;
                border: 0px ;
                height: 35px;
                color: white;
                font-family: Poppins;
                font-size: 0.8rem;
            ">Log (Click Me)</button>
            <br>
        </div>

        <div id="main" style="margin-top:25px; height:500px;"></div>
    </article>


    <script type="text/javascript">
        // based on prepared DOM, initialize echarts instance
        

        var is_graph_log = true;
        var is_init = true

        function getChart() {
            console.log("Making Chart");
            // var myChart = echarts.init(document.getElementById('main'));
            
            // toggle
            if (is_graph_log == false) {
                is_graph_log = true;
                document.getElementById('log-button').innerHTML="Remove Log";
                type = 'log';
                yaxisname = "Time Taken (Seconds) [log]";
                var myChart = echarts.init(document.getElementById('main'));
                is_init = false;
            } else {
                is_graph_log = false;
                type = 'value';
                var myChart = echarts.init(document.getElementById('main'));
                if (is_init == false) {
                    document.getElementById('log-button').innerHTML = "Log";
                }
                is_init = false;
                yaxisname = "Time Taken (Seconds)";
            }
            // console.log(myChart);

            // specify chart configuration item and data
            var option = {
                legend: {
                    show: true,
                },
                tooltip: {
                    trigger: 'axis'
                },
                xAxis: {
                    type: 'category',
                    data: [50, 59, 69, 79, 89, 99, 109, 118, 128, 138, 148, 158, 168, 177, 187, 197, 207, 217, 227, 236, 246, 256, 266, 276, 286, 295, 305, 315, 325, 335, 345, 354, 364, 374, 384, 394, 404, 414, 423, 433, 443, 453, 463, 473, 482, 492, 502, 512, 522, 532, 541, 551, 561, 571, 581, 591, 600, 610, 620, 630, 640, 650, 659, 669, 679, 689, 699, 709, 719, 728, 738, 748, 758, 768, 778, 787, 797, 807, 817, 827, 837, 846, 856, 866, 876, 886, 896, 905, 915, 925, 935, 945, 955, 964, 974, 984, 994, 1004, 1014, 1024],
                    name: "Length Generated",
                    nameLocation: "middle",
                    nameTextStyle: {
                        padding: [10, 0, 0, 0]
                    }
                },
                yAxis: {
                    type: type,
                    name: yaxisname,
                    nameLocation: "middle",
                    nameTextStyle: {
                        padding: [0, 0, 20, 0]
                    }
                },
                series: [
                    {
                        data: [1.51094382, 1.81126177, 2.14270117, 2.47368824, 2.80235293, 3.13475413, 3.49396102, 3.80114484, 4.13546374, 4.47250035, 4.81675947, 5.14946434, 5.49317186, 5.79197898, 6.12942371, 6.46901548, 6.80782015, 7.14226203, 7.48924243, 7.80399892, 8.14256599, 8.49020114, 8.83380303, 9.17263846, 9.52630394, 9.84493315, 10.20080712, 10.56681519, 10.93588104, 11.30595567, 11.66196682, 11.97932849, 12.3300324, 12.68338647, 13.04341099, 13.39294195, 13.74834194, 14.09920657, 14.42109067, 14.7769407, 15.12822719, 15.48122375, 15.82208192, 16.16197302, 16.46644826, 16.80372715, 17.14710374, 17.48897843, 17.824137, 18.15873172, 18.46684325, 18.82294884, 19.16867197, 19.51428702, 19.86601274, 20.20885694, 20.53001256, 20.87790711, 21.20834973, 21.54740901, 21.88391685, 22.21373236, 22.51062217, 22.83988357, 23.17159474, 23.5061615, 23.84355104, 24.17791612, 24.51143641, 24.80674617, 25.13830876, 25.46596873, 25.7933557, 26.12678387, 26.45463631, 26.75361633, 27.08137593, 27.40922756, 27.73419757, 28.05992463, 28.39017677, 28.68700578, 29.01893713, 29.34778378, 29.67438684, 30.00564017, 30.33452606, 30.64305711, 31.00004079, 31.33188455, 31.67858076, 32.02746274, 32.35108752, 32.65243542, 32.99356687, 33.3341084, 33.69160762, 34.05293431, 34.3956131, 34.72723889],
                        type: 'line',
                        smooth: true,
                        name: "ONNX Runtime T2R 166Mn",
                    },
                    {
                        data: [4.42001488, 5.3572053, 6.40063155, 7.44824686, 8.49313447, 9.54276342, 10.59763947, 11.54364343, 12.59334786, 13.63970366, 14.68927104, 15.73743813, 16.77580299, 17.72322211, 18.79398453, 19.85880942, 20.91813562, 21.97085061, 23.02303629, 23.96745756, 25.01378045, 26.0577786, 27.10876675, 28.15394547, 29.19964149, 30.13992584, 31.18763733, 32.23382924, 33.28664427, 34.35125072, 35.41140685, 36.36287332, 37.41786366, 38.47315662, 39.56459146, 40.64188325, 41.7190551, 42.79904521, 43.75688081, 44.81219304, 45.86775131, 46.93484526, 48.01299362, 49.08369129, 50.04818404, 51.11504343, 52.18687389, 53.2552377, 54.32309945, 55.38465531, 56.3396919, 57.39423594, 58.46337321, 59.54178641, 60.61808214, 61.71196964, 62.90809073, 64.21474833, 65.54926658, 66.70544267, 67.77643037, 68.84533598, 69.8072921, 70.87723353, 71.92940426, 72.98283041, 74.03709314, 75.08609781, 76.15075505, 77.10966928, 78.17384901, 79.22952573, 80.28381321, 81.3342999, 82.38126619, 83.32777801, 84.37779622, 85.42644997, 86.48053775, 87.53372881, 88.59416153, 89.5390547, 90.5894464, 91.63629563, 92.68349059, 93.73691733, 94.79824998, 95.74950385, 96.80556214, 97.85765765, 98.9053108, 99.95800064, 101.00626545, 101.95740638, 103.01350241, 104.0669486, 105.11856229, 106.16633222, 107.222755, 108.27243545],
                        type: 'line',
                        smooth: true,
                        name: "Vanilla T2R 166Mn",
                    },
                    {
                        data: [1.6622998714447021, 2.1930811405181885, 2.992302894592285, 4.197546005249023, 5.14570689201355, 6.395497798919678, 8.011377096176147, 8.973557949066162, 10.591028928756714, 12.37233304977417, 14.557507038116455, 17.12027907371521, 19.828334093093872, 22.53909397125244, 25.5178701877594, 28.907083988189697, 32.55218505859375, 36.469399213790894, 40.74887204170227, 45.735422134399414, 49.355974197387695, 54.34034514427185, 59.26567196846008, 64.68545269966125, 71.53783798217773, 76.03711295127869, 82.26391291618347, 85.60085558891296, 89.99368333816528, 95.99286603927612, 104.54243302345276, 110.8418390750885, 117.99759483337402],
                        type: 'line',
                        smooth: true,
                        name: "Vanilla GPT2 2.5Mn",
                    },
                    {
                        data: [0.54495478, 0.73299313, 0.89063501, 0.8986249, 1.10433006, 1.39928913, 1.48570991, 1.69396377, 1.79820895, 2.0881021, 2.33569813, 2.51664615, 2.8236711, 2.74206328, 3.06350803, 3.31710911, 3.92217016, 4.50567102, 4.63530302, 5.46945906, 4.54229307, 4.94176412, 5.30708218, 5.53489304, 5.55287886, 6.05769897, 6.55479288, 6.47484994, 6.66257071, 7.02209496, 7.227005, 7.45897579, 8.24314904, 7.8537209, 7.87742209, 8.58612514, 9.98917794, 9.76387882, 9.84815788, 10.37017703, 10.74239707, 11.12377501, 11.58302498, 11.92812705, 12.48084402, 12.77035689, 13.1333189, 13.60988283, 14.03921103, 14.45418215, 15.24299717, 15.81887794, 16.71262121, 16.34567904, 16.66935301, 17.20844507, 17.86577606, 18.36354089, 18.84506202, 19.3054769, 19.76750112, 20.32446575, 20.85218191, 21.45198107, 22.07024384, 23.16882825, 23.12747598, 24.58696795, 23.89066076, 25.44354415, 27.26248407, 26.86530614, 27.20131779, 29.08896399, 28.16570878, 28.83509207, 31.397012, 29.88769603, 30.73117709, 31.28997016, 31.95311689, 32.56238317, 33.18489814, 33.86880302, 34.29947424, 35.22009802, 35.93019819, 36.45086789, 37.04013205, 37.90798998, 38.68806195, 39.41154027, 40.73673224, 40.98018885, 41.63835025, 42.30890131, 41.36318588, 41.23907399, 41.78188992, 43.21324325],
                        type: 'line',
                        smooth: true,
                        name: "🤗  GPT2 2.5Mn",
                    },
                    {
                        data: [4.66104198, 6.01691318, 7.20656204, 8.429111, 9.83679509, 11.12766981, 12.62173486, 13.91161394, 15.35557485, 16.85949302, 18.38110971, 20.11641026, 21.83768201, 23.38225818, 25.06135178, 26.83561707, 28.68084717, 30.51669407, 32.492589, 34.13120389, 35.95620108, 37.91341186, 44.04446197, 43.17010403, 44.75529599, 47.77914095, 52.37193012, 55.93168211, 58.02335215, 56.84589434, 62.29041219, 63.25715995, 63.70156193, 65.28368807, 68.72804832, 70.68075681, 74.58965921, 79.20702791, 82.66970396, 82.34983492, 82.3500061, 83.35055184, 81.76600194, 84.06219292],
                        type: 'line',
                        smooth: true,
                        name: "🤗  GPT2-small",
                    },
                    {
                        data: [37.19195414, 52.34601283, 76.42361617, 101.24192476, 125.88396978, 157.562819, 195.53068709, 228.61091113, 270.90618801],
                        type: 'line',
                        smooth: true,
                        name: "Vanilla GPT2-small",
                    },
                    {
                        data: [0.30001078, 0.3603044, 0.42240689, 0.48196082, 0.54125097, 0.6023731, 0.66296175, 0.71808777, 0.77635245, 0.83531108, 0.89477158, 0.95519314, 1.01546245, 1.07159636, 1.13419592, 1.19410977, 1.25383372, 1.31882656, 1.38073926, 1.43710034, 1.50217981, 1.56583438, 1.62816389, 1.69034131, 1.7536243, 1.80904608, 1.8686095, 1.9296319, 1.98867092, 2.05364389, 2.12158947, 2.17747838, 2.2417171, 2.30212214, 2.36518948, 2.42551796, 2.48610356, 2.54596701, 2.60178342, 2.67385237, 2.7381335, 2.80237994, 2.86764221, 2.93438027, 2.99237921, 3.05558076, 3.11647213, 3.17842669, 3.24511909, 3.31024184, 3.3666657, 3.43316984, 3.50073555, 3.56904719, 3.63326676, 3.69783058, 3.75435944, 3.81718402, 3.88622403, 3.95263777, 4.01813571, 4.08591025, 4.14504466, 4.21564918, 4.28588283, 4.35968587, 4.42603579, 4.4884665, 4.55309491, 4.61042697, 4.68080883, 4.74614847, 4.80754242, 4.87065289, 4.93422985, 4.99717016, 5.06745598, 5.1313802, 5.19557893, 5.26083806, 5.32736878, 5.38999691, 5.45796313, 5.52133729, 5.58717172, 5.65494246, 5.72161069, 5.77992527, 5.84363828, 5.90766242, 5.96902733, 6.0292872, 6.09106138, 6.1462888, 6.20708616, 6.27100027, 6.33482368, 6.39998732, 6.47004688, 6.5301888],
                        type: 'line',
                        smooth: true,
                        name: "ONNX Runtime T2R 2.5Mn",
                    },
                    {
                        data: [0.56671388, 0.67359655, 0.78942873, 0.90299215, 1.01795886, 1.14033697, 1.26314981, 1.37789428, 1.49893751, 1.61863811, 1.74153607, 1.85831563, 1.9710768, 2.08303423, 2.20933535, 2.33492794, 2.45753722, 2.5699872, 2.68282847, 2.78343313, 2.90104597, 3.03728797, 3.15480113, 3.26841815, 3.38305266, 3.4866617, 3.59534445, 3.71095529, 3.82004516, 3.93199563, 4.05742745, 4.1730397, 4.29538913, 4.41554096, 4.54044476, 4.65632424, 4.77870173, 4.89409518, 4.99949501, 5.12991142, 5.25270586, 5.37733274, 5.49448187, 5.61682236, 5.72981851, 5.8535291, 5.97173789, 6.08711662, 6.21083498, 6.33080153, 6.44273212, 6.56256754, 6.67766445, 6.80322993, 6.92847986, 7.05461242, 7.15795329, 7.27309558, 7.39327693, 7.52126291, 7.63920929, 7.75235434, 7.85563443, 7.96589205, 8.0766067, 8.18782921, 8.30923176, 8.43549905, 8.55274069, 8.65201373, 8.76212304, 8.88100386, 8.99744177, 9.11451535, 9.2297307, 9.34802833, 9.46985993, 9.5914402, 9.70292084, 9.82403152, 9.94086027, 10.04783657, 10.1713438, 10.29628515, 10.41213396, 10.53081672, 10.64601169, 10.75286644, 10.8641257, 10.98493938, 11.11366363, 11.23917418, 11.35869994, 11.46962202, 11.58583174, 11.70541499, 11.82434275, 11.94261985, 12.06710079, 12.18951399],
                        type: 'line',
                        smooth: true,
                        name: "Vanilla T2R 2.5Mn",
                    }
                ]
            };
    
            // use configuration item and data specified to show chart
            myChart.setOption(option);
        }

        getChart();

    </script>

    <footer>
        <p class="footer-p">
            CONNECT WITH ME
        </p>
        <div class="share">
            <a href="https://www.linkedin.com/in/yash-bonde/"><img src="images/linkedin.svg"></a>
            <a href="https://www.instagram.com/yassh.bonde/"><img src="images/instagram.svg"></a>
        </div>
    </footer>

</body>

</html>